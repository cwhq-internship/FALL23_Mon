<!doctype html>
<!--
  ### Important ###
  This file is the parent template for the entire application.
  Do not make changes to this file unless you intend for those 
  changes to apply to every template that inherits this template.
-->
<html>
    <head>
        <link rel="icon" type="image/png" href="/static/stylesheets/favicon.ico">
        <!-- Quite possibly super important stuff, no clue lmaoooo -->
        <script src="https://code.jquery.com/jquery-3.6.3.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie-edge">
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
        <link rel ="stylesheet" href="{{url_for('static', filename='stylesheets/layout.css')}}">
        <script src="https://www.gstatic.com/charts/loader.js"></script>
        <script>
          google.charts.load('current', {packages: ['corechart']}); 
          google.charts.setOnLoadCallback(drawChart);
          // I guess stuff goes here? Not sure whattt ;p
        </script>
        <!-- This connects to Google for Fonts, add more fonts underneath here if needed -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Suez+One&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Oxygen:wght@300&display=swap" rel="stylesheet">
        <!-- ^ ^ More fonts above this ^ ^-->
        <title>
          {% if title %}
            {{ title }}
          {% else %}
            Cool Starting Template 
          {% endif %}
        </title>
        <!-- For adding any additional stylesheets to a template -->
        {% block styles %}
        {% endblock %}
    </head>

      <!-- my crappy lil navbar, copy pasted from navbar website and modified -->
      <nav class="navbar navbar-expand-lg navbar-light" id="navbar" style="background-color: transparent;">
        <a class="navbar-brand mb-0 h1">
          <!-- <img src="/static/img/NavSmall.png" class="logo d-inline-block align-top" alt=""> NAVBAR LOGO MY BELOVED ;( )-->
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
      
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          
          <ul class = "nav navbar-nav">
            <li class="nav-item">
              <span> <text class="darkmodetext"> Dark Mode </text>
              <label class="switch">
                <input type="checkbox" id="dark-mode-toggle">
                <span class="slider"></span>
              </label>
              </span>
            </li></ul>
            
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              
              <!-- im using the blocks to make them big when clicked on -->
              <a class="nav-link {% block brand %}{% endblock %}" href="/">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link {% block b %}{% endblock %}" href="stats">Statistics</a>
            </li>
            <li class="nav-item">
              <a class="nav-link {% block c %}{% endblock %}" href="typing">Intro to Typing</a>
            </li>
            <li class="nav-item">
              <a class="nav-link {% block d %}{% endblock %}" href="about">About us</a>
            </li>
              </div>
            </li>
          </ul>
        </div>
      </nav>
      <body id="content"></body>
        <!-- Displays the main content of a template -->
        {% block content %}
        {% endblock %}

        <!-- For adding additional scripts for a template -->
        {% block scripts %}
        
        {% endblock %}
        <script>
          document.addEventListener("DOMContentLoaded", function() {
            const darkModeToggle = document.getElementById("dark-mode-toggle");
            const imageContainer = document.querySelector(".image-container-center");
            const wizFont = document.querySelector(".wizfont");
            const wizFont2 = document.querySelector(".wizfont2");
            const darkmodetext = document.querySelector(".darkmodetext");
            const navbar = document.getElementById("navbar");
      
            darkModeToggle.addEventListener("change", () => {
              if (darkModeToggle.checked) {
                // Dark mode is enabled
                document.body.style.backgroundImage = "url('/static/img/darkbackground.png')";
                imageContainer.classList.add("dark-image-container-center");
                wizFont.classList.add("wizfontdark");
                wizFont2.classList.add("wizfontdark2");
                navbar.classList.remove("navbar-light");
                navbar.classList.add("navbar-dark");
                darkmodetext.classList.add("darkmodetext2");
                // Save dark mode preference to localStorage if needed
                localStorage.setItem("darkModeEnabled", "true");
              } else {
                // Light mode is enabled
                document.body.style.backgroundImage = "url('/static/img/background.png')";
                imageContainer.classList.remove("dark-image-container-center");
                wizFont.classList.remove("wizfontdark");
                wizFont2.classList.remove("wizfontdark2");
                navbar.classList.remove("navbar-dark");
                navbar.classList.add("navbar-light");
                darkmodetext.classList.remove("darkmodetext2");
                // Save light mode preference to localStorage if needed
                localStorage.setItem("darkModeEnabled", "false");
              }
            });
      
            // Check and apply dark mode setting from localStorage on page load
            const isDarkModeEnabled = localStorage.getItem("darkModeEnabled") === "true";
            if (isDarkModeEnabled) {
              darkModeToggle.checked = true;
              document.body.style.backgroundImage = "url('/static/img/darkbackground.png')";
              imageContainer.classList.add("dark-image-container-center");
              wizFont.classList.add("wizfontdark");
              wizFont2.classList.add("wizfontdark2");
              navbar.classList.remove("navbar-light");
              navbar.classList.add("navbar-dark");
              darkmodetext.classList.add("darkmodetext2");
            }
          });
        </script>
    </body>
</html>
